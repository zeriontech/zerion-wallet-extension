import { roundTokenValue } from './formatTokenValue';

const testCases = [
  ['19500.035', '19500.035'],
  ['19500.0035', '19500.004'],
  ['19500.00000035', '19500'],
  ['19500.000000035', '19500'],
  ['19500.000000000035', '19500'],
  ['0.02035', '0.02'],
  ['0.02075', '0.021'],
  ['0.003708', '0.0037'],
  ['0.003703', '0.0037'],
  ['0.0026678', '0.0027'],
  ['0.00010000123124', '0.0001'],
  ['123.432352', '123.432'],
  ['123.43292', '123.433'],
  ['1.2515251', '1.252'],
  ['0.0000123124124', '0.000012'],
  ['0.000000123124124', '0.00000012'],
  ['0.0000000123124124', '0.000000012'],
  ['0.00000000123124124', '0.0000000012'],
  ['0.000000000000000001', '0.000000000000000001'],
  ['9.00075521', '9.001'],
  ['0.099992', '0.1'],
  ['0.99992', '1'],
  ['0.0123', '0.012'],
  ['0.0000123', '0.000012'],
  ['0.0000127', '0.000013'],
  ['0.123', '0.123'],
  ['0.0031', '0.0031'],
  ['0.126', '0.126'],
  ['0.1267', '0.127'],
  ['0.1', '0.1'],
  ['0.12', '0.12'],
  ['0.129', '0.129'],
  ['1.129', '1.129'],
  ['0.126789', '0.127'],
  ['0.01267', '0.013'],
  ['0.001267', '0.0013'],
  ['1.09069', '1.091'],
  ['123', '123'],
  ['123456789', '123456789'],
];

const testCasesWithNegativeNumbers = testCases.map(([input, output]) => [
  `-${input}`,
  `-${output}`,
]);

const allTestCases = [...testCases, ...testCasesWithNegativeNumbers];

describe('roundTokenValue', () => {
  allTestCases.forEach(([input, output]) => {
    test(`roundTokenValue ${input}`, () => {
      expect(roundTokenValue(input)).toBe(output);
    });
  });
});
